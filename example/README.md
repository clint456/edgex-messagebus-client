# EdgeX MessageBus Client ç¤ºä¾‹

æœ¬ç›®å½•åŒ…å«äº† EdgeX MessageBus Client çš„å„ç§ä½¿ç”¨ç¤ºä¾‹ã€‚

## ğŸ“ ç¤ºä¾‹ç›®å½•

### 1. åŸºç¡€ç¤ºä¾‹ (`main.go`)
åŸºç¡€çš„ MessageBus å®¢æˆ·ç«¯ä½¿ç”¨ç¤ºä¾‹ï¼Œå±•ç¤ºï¼š
- è¿æ¥åˆ° MessageBus
- å‘å¸ƒæ¶ˆæ¯åˆ°å¤šä¸ªä¸»é¢˜
- è®¢é˜…é€šé…ç¬¦ä¸»é¢˜å¹¶æ¥æ”¶å…·ä½“ä¸»é¢˜è·¯å¾„
- å¥åº·æ£€æŸ¥å’Œå®¢æˆ·ç«¯ä¿¡æ¯è·å–

```bash
cd example
go run main.go
```

### 2. é€šé…ç¬¦è®¢é˜…ç¤ºä¾‹ (`wildcard/main.go`)
ä¸“é—¨å±•ç¤ºé€šé…ç¬¦è®¢é˜…åŠŸèƒ½çš„ç¤ºä¾‹ï¼ŒåŒ…æ‹¬ï¼š
- è®¢é˜…å¤šä¸ªé€šé…ç¬¦ä¸»é¢˜ (`edgex/events/#`, `edgex/commands/#`, `edgex/alerts/#`)
- æ ¹æ®å…·ä½“ä¸»é¢˜è·¯å¾„è¿›è¡Œæ¶ˆæ¯åˆ†ç±»å¤„ç†
- å‘å¸ƒæµ‹è¯•æ¶ˆæ¯åˆ°ä¸åŒçš„å­ä¸»é¢˜
- å®æ—¶æ¥æ”¶ EdgeX ç³»ç»Ÿä¸­çš„è®¾å¤‡äº‹ä»¶

```bash
cd example/wildcard
go run main.go
```

### 3. é«˜çº§ç¤ºä¾‹ (`advanced/main.go`)
å±•ç¤ºé«˜çº§åŠŸèƒ½çš„ç»¼åˆç¤ºä¾‹ï¼ŒåŒ…æ‹¬ï¼š
- è¯·æ±‚-å“åº”æ¨¡å¼
- äºŒè¿›åˆ¶æ•°æ®å¤„ç†
- é”™è¯¯å¤„ç†å’Œç›‘æ§
- å¤šç§æ¶ˆæ¯ç±»å‹å¤„ç†

```bash
cd example/advanced
go run main.go
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å‰ç½®æ¡ä»¶
1. ç¡®ä¿ MQTT Broker æ­£åœ¨è¿è¡Œï¼ˆé»˜è®¤ localhost:1883ï¼‰
2. å¯é€‰ï¼šè¿è¡Œ EdgeX è™šæ‹Ÿè®¾å¤‡æœåŠ¡ä»¥æŸ¥çœ‹çœŸå®çš„è®¾å¤‡äº‹ä»¶

### å¯åŠ¨ MQTT Broker
ä½¿ç”¨ Docker å¿«é€Ÿå¯åŠ¨ï¼š
```bash
docker run -it -p 1883:1883 eclipse-mosquitto:2.0
```

### è¿è¡Œç¤ºä¾‹
```bash
# å…‹éš†é¡¹ç›®
git clone https://github.com/clint456/edgex-messagebus-client.git
cd edgex-messagebus-client

# è¿è¡ŒåŸºç¡€ç¤ºä¾‹
cd example
go run main.go

# è¿è¡Œé€šé…ç¬¦ç¤ºä¾‹
cd wildcard
go run main.go
```

## ğŸ¯ é€šé…ç¬¦è®¢é˜…é‡ç‚¹åŠŸèƒ½

### å…³é”®ç‰¹æ€§
- **è‡ªåŠ¨ä¸»é¢˜è§£æ**ï¼šè®¢é˜… `edgex/events/#` æ—¶ï¼Œå¤„ç†å‡½æ•°æ¥æ”¶åˆ°çš„æ˜¯å…·ä½“ä¸»é¢˜å¦‚ `edgex/events/device/sensor01`
- **æ™ºèƒ½æ¶ˆæ¯åˆ†ç±»**ï¼šæ ¹æ®å…·ä½“ä¸»é¢˜è·¯å¾„è‡ªåŠ¨åˆ†ç±»å¤„ç†ä¸åŒç±»å‹çš„æ¶ˆæ¯
- **å®æ—¶äº‹ä»¶æ¥æ”¶**ï¼šèƒ½å¤Ÿæ¥æ”¶æ¥è‡ª EdgeX ç³»ç»Ÿçš„çœŸå®è®¾å¤‡äº‹ä»¶

### ç¤ºä¾‹è¾“å‡º
```
ğŸ“¨ æ”¶åˆ°æ¶ˆæ¯:
   å…·ä½“ä¸»é¢˜: edgex/events/device/temperature-sensor-01
   CorrelationID: MessageBus-a506e631-faca-4ad8-8c2a-9811080b827b
   äº‹ä»¶ç±»å‹: ğŸ”§ è®¾å¤‡äº‹ä»¶
   æ¶ˆæ¯å†…å®¹: eyJkZXZpY2VOYW1lIjoidGVtcGVyYXR1cmUtc2Vuc29yLTAxIiwicmVhZGluZyI6MjMuNSwidGltZXN0YW1wIjoxNzQ5ODA4MTgzLCJ1bml0IjoiwrBDIn0=
```

## ğŸ“š æ›´å¤šä¿¡æ¯

- [ä¸»é¡¹ç›® README](../README.md)
- [ä½¿ç”¨æŒ‡å—](../USAGE.md)
- [API æ–‡æ¡£](https://pkg.go.dev/github.com/clint456/edgex-messagebus-client)

## ğŸ”§ æ•…éšœæ’é™¤

### è¿æ¥é—®é¢˜
- ç¡®ä¿ MQTT Broker æ­£åœ¨è¿è¡Œ
- æ£€æŸ¥ä¸»æœºåœ°å€å’Œç«¯å£é…ç½®
- éªŒè¯ç½‘ç»œè¿æ¥

### æ— æ³•æ¥æ”¶æ¶ˆæ¯
- ç¡®è®¤è®¢é˜…ä¸»é¢˜æ­£ç¡®
- æ£€æŸ¥ QoS è®¾ç½®
- éªŒè¯æ¶ˆæ¯å¤„ç†å‡½æ•°

### æ€§èƒ½ä¼˜åŒ–
- è°ƒæ•´æ¶ˆæ¯ç¼“å†²åŒºå¤§å°
- ä½¿ç”¨é€‚å½“çš„ QoS çº§åˆ«
- å®ç°é”™è¯¯å¤„ç†æœºåˆ¶
